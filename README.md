# 📱 离线文件二维码传输系统

一个纯浏览器实现的、完全离线的文件传输工具，通过二维码序列在没有网络连接的环境下传输文件，包括发送端和接收端2部分。

![系统截图](https://img.shields.io/badge/状态-稳定运行-green)
![版本](https://img.shields.io/badge/版本-1.0-blue)
![浏览器支持](https://img.shields.io/badge/浏览器-Chrome%2C%20Firefox%2C%20Safari-blue)
![许可证](https://img.shields.io/badge/许可证-MIT-lightgrey)


### 在线体验

[发送端--在线演示](https://wallechfox.github.io/QRBridge/send/send.html)

[接收端--在线演示](https://wallechfox.github.io/QRBridge/receiver/receiver.html)

## 📁 项目结构

```
离线文件二维码传输系统/
├── send/                    # 发送端程序
│   ├── send.html          # 发送端主文件
│   └── js/                # 发送端依赖库
│       ├── pako.min.js    # 压缩库
│       └── qrcode.min.js  # 二维码生成库
└── receiver/                    # 接收端程序
    ├── receiver.html      # 接收端主文件
    └── js/                # 接收端依赖库
        ├── index.min.js   # ZXing二维码扫描库
        ├── localforage.min.js # 本地存储库
        └── pako.min.js    # 解压缩库
```

## ✨ 核心功能

- 🌐 **纯浏览器实现** - 无需安装，无需服务器
- 📶 **完全离线工作** - 不需要网络连接
- 🔒 **安全传输** - CRC32校验确保数据完整性
- 📁 **支持各种文件** - 文本、图片、文档、压缩包等
- 🇨🇳 **中文友好** - 完美支持中文文件名
- 💾 **断点续传** - 自动保存进度，中断后可继续
- 📱 **移动端适配** - 支持手机扫描电脑屏幕

## 🚀 快速开始

### 1. 下载项目


### 2. 准备依赖库
已为您准备好依赖库，直接使用即可：
- **发送端**：`发送/js/` 目录已包含所需库文件
- **接收端**：`接收/js/` 目录已包含所需库文件

### 3. 开始使用
- **发送文件**：直接打开 `发送/send.html`
- **接收文件**：直接打开 `接收/receiver.html`

## 📖 使用教程

### 发送端操作步骤
1. **打开发送页面** - 双击 `发送/send.html`
2. **选择文件** - 点击"选择文件"按钮
3. **配置参数** - 设置分片大小（推荐900字节）
4. **生成二维码** - 点击"开始生成二维码序列"
5. **展示二维码** - 按顺序展示所有二维码（文件名在最后）

### 接收端操作步骤
1. **打开接收页面** - 双击 `接收/receiver.html`
2. **允许摄像头** - 授权摄像头访问权限
3. **开始扫描** - 点击"开始扫描二维码"
4. **按序扫描** - 按顺序扫描所有二维码
5. **重组文件** - 完成扫描后点击"重组文件"
6. **下载文件** - 点击"下载文件"保存

## 🎯 工作原理

### 技术流程
```
文件 → 压缩 → 分片 → Base64 → CRC32校验 → 二维码 → 扫描 → 校验 → 重组 → 解压 → 文件
```

### 数据格式
- **数据分片**：包含索引、总分片数、CRC32校验码、文件指纹和Base64数据
- **文件名分片**：单独二维码，包含编码后的文件名和文件信息
- **CRC32校验**：确保每个分片的数据完整性

## 🛠️ 技术栈

| 技术 | 用途 | 版本 |
|------|------|------|
| HTML5 | 用户界面 | - |
| JavaScript (ES6+) | 业务逻辑 | - |
| pako.js | 文件压缩/解压 | 2.0+ |
| QRCode.js | 二维码生成 | 1.0+ |
| ZXing | 二维码扫描 | 0.21.3 |
| localForage | 本地存储 | 1.10+ |

## 📊 性能表现

| 文件大小 | 分片数量 | 预估时间 | 建议 |
|----------|----------|----------|------|
| ≤100KB | 10-20个 | 1-2分钟 | 快速传输 |
| 1MB | 100-200个 | 5-10分钟 | 日常使用 |
| 5MB | 500-1000个 | 25-50分钟 | 耐心等待 |
| ≥10MB | 1000+个 | 1小时+ | 不推荐 |

## 🔧 配置说明

### 发送端配置
```javascript
// 分片大小（字节）
CHUNK_SIZE: 900        // 推荐值，范围：500-2000

// 二维码尺寸（像素）
QR_DISPLAY_SIZE: 500   // 显示尺寸
QR_GENERATE_SIZE: 500  // 生成尺寸
```

### 接收端配置
```javascript
// 扫描设置
扫描防抖: 1000ms        // 防止重复扫描
自动保存: 启用          // 断点续传支持
```

## 🌐 浏览器支持

| 浏览器 | 发送端 | 接收端 | 备注 |
|--------|--------|--------|------|
| Chrome | ✅ | ✅ | 最佳体验 |
| Firefox | ✅ | ✅ | 完全支持 |
| Safari | ✅ | ✅ | 需要iOS 11+ |
| Edge | ✅ | ✅ | Chromium版本 |
| 移动浏览器 | ⚠️ | ✅ | 接收端体验佳 |

## 🚨 常见问题

### Q: 扫描时摄像头黑屏？
**A:** 检查浏览器权限设置，确保允许摄像头访问。

### Q: 二维码扫描失败？
**A:** 
1. 确保屏幕亮度足够
2. 调整扫描距离（20-50cm）
3. 避免反光和阴影
4. 保持二维码在扫描框内

### Q: 中文文件名乱码？
**A:** 确保使用最新版本，系统已优化中文编码处理。

### Q: 大文件传输太慢？
**A:** 
1. 适当增加分片大小
2. 确保良好光线条件
3. 分多次传输

### Q: 如何清除已接收数据？
**A:** 在接收端点击"清除数据"按钮。

## 🔍 高级功能

### 断点续传
系统自动保存扫描进度，即使关闭浏览器或中断扫描，下次打开时可继续从上次进度开始。

### 错误恢复
- CRC32校验确保数据完整性
- 重复扫描检测避免数据冗余
- 详细错误提示帮助问题定位

### 性能优化
- 分片大小自动计算
- 内存使用优化
- 渐进式处理避免卡顿

## 🎨 应用场景

### 典型使用场景：
1. **涉密环境** - 禁止使用网络和USB的保密会议室
2. **网络隔离** - 手术室、工业控制室等网络隔离环境
3. **教育演示** - 教室、会议室快速分享课件
4. **野外作业** - 无网络信号的户外环境
5. **跨系统传输** - 不同操作系统间的文件传输
6. **临时分享** - 会议现场临时分享文件

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

感谢以下开源项目的支持：
- [pako](https://github.com/nodeca/pako) - 高效的zlib实现
- [QRCode.js](https://github.com/davidshimjs/qrcodejs) - 二维码生成库
- [ZXing](https://github.com/zxing-js/library) - 二维码扫描库
- [localForage](https://github.com/localForage/localForage) - 本地存储封装

## 📞 支持与反馈

- 🐛 [提交Issue](https://github.com/wallechfox/QRBridge/issues)
- 💬 讨论区：[GitHub Discussions](https://github.com/wallechfox/QRBridge/discussions)

---

## ⭐ 如果这个项目对您有帮助，请给个Star！

您的支持是我们持续改进的动力！



**注意**: 本项目仍在积极开发中，欢迎反馈和建议！

---
*最后更新: 2025年12月 | 版本: 1.0*
